<%# locals: context, topic, partial %>

<div class="external-api-selection col-md-12" external_api="<%= topic %>">
  <div class="col-md-12">
    <%= label_tag label %>
  </div>
  <div class="col-md-12">
    <div class="external-api-selections">
      <% unless context.present? && context.send(topic).present? %>
        <span class="no-selections"><%= _("No %{topic} has been selected for this research output.") % { topic: topic } %></span>
      <% end %>
      <% if context.present? && context.send(topic).present? %>
        <%= render partial: "shared/external_apis/card",
                   locals: { context: context, model: context.send(topic), partial: partial, selected: true } %>
      <% end %>

    </div>
  </div>
  <div class="col-md-12">
    <%= button_tag _("%{topic} search") % { topic: label }, type: "button", class: "btn btn-default",
                   data: { toggle: "modal", target: "#external-api-search" } %>
  </div>
</div>
